{"ts":1354536190534,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"ï»¿\n\nvar AncSelectorSources = function () {\n    this.qryStrUtils = new QryStrUtils();\n    this.ancUtils = new AncUtils();\n    this.ancSelectorBase = new AncSelectorBase ()\n    this.url = \"/GetSources/Select\"; // getHost() + \n\n\n    this.ancSelectorBase.context_data = {\n        editorUrl : '../Forms/FrmEditSource.aspx',\n        param_name :'source_ids',\n        selectionUrl: '/Sources/GetSourceNames',\n        pagerfunction :this.getLink,   // this.pagerfunction = 'getLink';\n        search_body : 'search_bdy',\n        search_hed:'search_hed',\n        pager: 's_pager',\n        sourceRefId: 'txtSourceRef',\n        title: 'SOURCES',\n        refreshMethod: this.getSources,\n        parentContext : this\n    };\n\n}\n\nAncSelectorSources.prototype = {\n\n    getSources: function (selectorid) {\n        var params = {};\n\n        if (selectorid != undefined) {\n            this.ancSelectorBase.createOutline(selectorid)\n        }\n\n        params[0] = '0';\n\n        params[1] = $('#' + this.ancSelectorBase.context_data.sourceRefId).val();\n        params[2] = ''; // desc\n        params[3] = ''; //orig loc\n        params[4] = 0; // $('#txtLowerDateRangeLower').val();\n        params[5] = 0; //  $('#txtLowerDateRangeUpper').val();\n        params[6] = 2000; // $('#txtUpperDateRangeLower').val();\n        params[7] = 2000; // $('#txtUpperDateRangeUpper').val();\n\n        params[8] = 0; // $('#txtCountNo').val();\n        params[9] = false; // $('#chkIsThackrayFound').val();\n        params[10] = false; //$('#chkIsCopyHeld').val();\n        params[11] = false; //$('#chkIsViewed').val();\n        params[12] = false; //$('#chkUseOptions').val();\n        params[13] = this.qryStrUtils.getParameterByName('s_page', 0);\n        params[14] = '10';\n\n        var success = function (data) {\n            var batch_data = {};\n         \n            batch_data.Batch = data.Batch;\n            batch_data.BatchLength = data.BatchLength;\n            batch_data.Total = data.Total;\n            batch_data.rows = new Array();\n\n            $.each(data.serviceSources, function (source, sourceInfo) {\n                var row0 = { id: sourceInfo.SourceId, ref: sourceInfo.SourceRef };\n                batch_data.rows.push(row0);\n            });\n          \n            this.ancSelectorBase.createBody(batch_data);\n        };\n\n        this.ancUtils.twaGetJSON(this.url, params, $.proxy(success, this));\n \n        return false;\n\n    },\n\n    getLink: function(toPage) {\n\n        this.qryStrUtils.updateQryPar('s_page', toPage);\n        this.getSources();\n\n    }\n}\n "]],"start1":0,"start2":0,"length1":0,"length2":2532}]],"length":2532}
